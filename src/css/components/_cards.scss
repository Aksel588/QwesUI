// Card Components
// ===============

.card {
  position: relative;
  display: flex;
  flex-direction: column;
  min-width: 0;
  word-wrap: break-word;
  background-color: $white;
  background-clip: border-box;
  border: 1px solid $gray-200;
  border-radius: $border-radius;
  @include box-shadow($box-shadow);
  @include transition(box-shadow, $transition-fast);
  
  &:hover {
    @include box-shadow($box-shadow-lg);
  }
  
  // Card Header
  .card-header {
    padding: $spacer $spacer;
    margin-bottom: 0;
    background-color: rgba($black, 0.03);
    border-bottom: 1px solid $gray-200;
    border-top-left-radius: calc($border-radius - 1px);
    border-top-right-radius: calc($border-radius - 1px);
    
    &:first-child {
      border-radius: calc($border-radius - 1px) calc($border-radius - 1px) 0 0;
    }
  }
  
  // Card Body
  .card-body {
    flex: 1 1 auto;
    padding: $spacer;
  }
  
  // Card Title
  .card-title {
    margin-bottom: 0.75rem;
    font-size: $font-size-lg;
    font-weight: $font-weight-semibold;
    color: $dark;
  }
  
  // Card Subtitle
  .card-subtitle {
    margin-top: -0.375rem;
    margin-bottom: 0;
    color: $gray-600;
  }
  
  // Card Text
  .card-text {
    margin-top: 0;
    margin-bottom: 1rem;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  // Card Footer
  .card-footer {
    padding: 0.75rem $spacer;
    background-color: rgba($black, 0.03);
    border-top: 1px solid $gray-200;
    border-bottom-left-radius: calc($border-radius - 1px);
    border-bottom-right-radius: calc($border-radius - 1px);
    
    &:last-child {
      border-radius: 0 0 calc($border-radius - 1px) calc($border-radius - 1px);
    }
  }
  
  // Card Image
  .card-img-top {
    width: 100%;
    border-top-left-radius: calc($border-radius - 1px);
    border-top-right-radius: calc($border-radius - 1px);
  }
  
  .card-img-bottom {
    width: 100%;
    border-bottom-left-radius: calc($border-radius - 1px);
    border-bottom-right-radius: calc($border-radius - 1px);
  }
  
  .card-img-overlay {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    padding: $spacer;
    border-radius: calc($border-radius - 1px);
  }
  
  // Card Variants
  &.card-primary {
    border-color: $primary;
    
    .card-header {
      background-color: $primary;
      color: $white;
      border-color: $primary;
    }
  }
  
  &.card-secondary {
    border-color: $secondary;
    
    .card-header {
      background-color: $secondary;
      color: $white;
      border-color: $secondary;
    }
  }
  
  &.card-success {
    border-color: $success;
    
    .card-header {
      background-color: $success;
      color: $white;
      border-color: $success;
    }
  }
  
  &.card-warning {
    border-color: $warning;
    
    .card-header {
      background-color: $warning;
      color: $white;
      border-color: $warning;
    }
  }
  
  &.card-danger {
    border-color: $danger;
    
    .card-header {
      background-color: $danger;
      color: $white;
      border-color: $danger;
    }
  }
  
  &.card-info {
    border-color: $info;
    
    .card-header {
      background-color: $info;
      color: $white;
      border-color: $info;
    }
  }
  
  &.card-dark {
    border-color: $dark;
    
    .card-header {
      background-color: $dark;
      color: $white;
      border-color: $dark;
    }
  }
  
  // Card Sizes
  &.card-sm {
    .card-header,
    .card-body,
    .card-footer {
      padding: 0.5rem;
    }
    
    .card-title {
      font-size: $font-size-base;
    }
  }
  
  &.card-lg {
    .card-header,
    .card-body,
    .card-footer {
      padding: 1.5rem;
    }
    
    .card-title {
      font-size: 1.5rem;
    }
  }
  
  // Card Layouts
  &.card-horizontal {
    flex-direction: row;
    
    .card-img-start {
      width: 30%;
      border-top-left-radius: calc($border-radius - 1px);
      border-bottom-left-radius: calc($border-radius - 1px);
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }
    
    .card-body {
      flex: 1;
    }
  }
  
  // Card with Actions
  &.card-actions {
    .card-actions {
      display: flex;
      gap: 0.5rem;
      padding: $spacer;
      border-top: 1px solid $gray-200;
      background-color: rgba($black, 0.02);
    }
  }
  
  // Interactive Cards
  &.card-clickable {
    cursor: pointer;
    @include transition(transform, $transition-fast);
    
    &:hover {
      transform: translateY(-2px);
    }
    
    &:active {
      transform: translateY(0);
    }
  }
  
  // Gradient Cards
  &.card-gradient-primary {
    background: linear-gradient(135deg, $primary 0%, $primary-light 100%);
    color: $white;
    border: none;
    
    .card-title,
    .card-text {
      color: $white;
    }
  }
  
  &.card-gradient-secondary {
    background: linear-gradient(135deg, $secondary 0%, $secondary-light 100%);
    color: $white;
    border: none;
    
    .card-title,
    .card-text {
      color: $white;
    }
  }
  
  // Shadow Variants
  &.shadow-sm {
    @include box-shadow($box-shadow-sm);
  }
  
  &.shadow-lg {
    @include box-shadow($box-shadow-lg);
  }
  
  &.shadow-xl {
    @include box-shadow($box-shadow-xl);
  }
  
  // Borderless
  &.card-borderless {
    border: none;
  }
  
  // Rounded
  &.card-rounded {
    border-radius: $border-radius-lg;
  }
  
  &.card-pill {
    border-radius: $border-radius-pill;
  }
}

// Card Groups
.card-group {
  display: flex;
  flex-direction: column;
  
  @include media-breakpoint-up(md) {
    flex-flow: row wrap;
    
    .card {
      flex: 1 0 0%;
      margin-bottom: 0;
      
      &:not(:last-child) {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
        
        .card-img-top,
        .card-img-bottom {
          border-top-right-radius: 0;
          border-bottom-right-radius: 0;
        }
      }
      
      &:not(:first-child) {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        margin-left: -1px;
        
        .card-img-top,
        .card-img-bottom {
          border-top-left-radius: 0;
          border-bottom-left-radius: 0;
        }
      }
    }
  }
}

// Card Decks
.card-deck {
  display: flex;
  flex-direction: column;
  
  @include media-breakpoint-up(md) {
    flex-flow: row wrap;
    margin-right: -0.75rem;
    margin-left: -0.75rem;
    
    .card {
      flex: 1 0 0%;
      margin-right: 0.75rem;
      margin-left: 0.75rem;
    }
  }
}
